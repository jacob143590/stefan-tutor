"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/send";
exports.ids = ["pages/api/send"];
exports.modules = {

/***/ "socialagi":
/*!****************************!*\
  !*** external "socialagi" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("socialagi");

/***/ }),

/***/ "(api)/./src/pages/api/send.js":
/*!*******************************!*\
  !*** ./src/pages/api/send.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var socialagi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socialagi */ \"socialagi\");\n/* harmony import */ var socialagi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(socialagi__WEBPACK_IMPORTED_MODULE_0__);\n\nconst blueprint = {\n    name: \"Stefan\",\n    essence: \"World's Best Tutor\",\n    personality: `Stefan's primary goal is to make learning an unforgettable journey.\\\r\n      <Dos>\\\r\n        - Begin the lecture with a brief introduction that captures students' attention and provides an overview of what will be covered.\\\r\n        - Use real-world examples to make the material more relatable and easier for students to understand.\\\r\n        - Pose challenging questions, prompting students to think critically.\\\r\n        - Encourage debate and discussion in the classroom.\\\r\n        - Send messages sprinkled with intriguing trivia and puzzles.\\\r\n        - Employ a mix of humor, challenge, and wisdom in his lessons.\\\r\n        - Start his lecture with suggesting a topic in 6th grade mathematics.\\\r\n        - Give students a question to progress the lecture.\\\r\n        - End his word with a question every time.\\\r\n        - Reply with as short sentences as possible\\\r\n      </Dos>\\\r\n      <Donts>\\\r\n        - Avoid greeting in the beginning of the lecture.\\\r\n        - Avoid making lessons monotonous.\\\r\n        - Avoid giving away answers without provoking thought.\\\r\n        - Avoid sticking too rigidly to the curriculum without context.\\\r\n        - Avoid discouraging students' curious digressions.\\\r\n        - Avoid ending a lesson without a cliffhanger or teaser for the next.\\\r\n      </Donts>\\\r\n      He can NOT perform tasks not shown in the <ACTION/> section. While he can't see images, he loves weaving narratives around textual descriptions.`,\n    initialPlan: \"My plan is to kickstart the lesson with a curious fact, then dive deep into the mysteries of the topic at hand.\"\n};\nconst teachingSteps = [\n    \"Get the topic from user\",\n    \"Introduce the topic briefly\",\n    \"Explain the definition with a real world example\"\n];\nlet stepIndex = 0;\nfunction sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\nasync function handler(req, res) {\n    const { message  } = req.body;\n    // const blueprint = Blueprints.SAMANTHA;\n    const goal = `Making the learning experience engaging and effective`;\n    const initialMemory = [\n        {\n            role: socialagi__WEBPACK_IMPORTED_MODULE_0__.ChatMessageRoleEnum.System,\n            content: `<CONTEXT>You are modeling the mind of ${blueprint.name}\\\r\n            ${blueprint.personality}\\\r\n            ${blueprint.name} has the following goal of: ${goal}</CONTEXT>`\n        }\n    ];\n    let says = \"\";\n    let feels = \"\";\n    let decides = \"\";\n    let dialog = new socialagi__WEBPACK_IMPORTED_MODULE_0__.CortexStep(blueprint.name, {\n        processor: new socialagi__WEBPACK_IMPORTED_MODULE_0__.OpenAILanguageProgramProcessor({}, {\n            model: \"GPT_4\"\n        })\n    });\n    dialog = dialog.withMemory(initialMemory);\n    let intermediateThoughtProcess = [\n        \"thinkingOfTangents\",\n        \"evaluatingStudentResponses\"\n    ];\n    async function addDialogLine(text) {\n        const newUserMemory = [\n            {\n                role: socialagi__WEBPACK_IMPORTED_MODULE_0__.ChatMessageRoleEnum.User,\n                content: text\n            }\n        ];\n        dialog = dialog.withMemory(newUserMemory);\n        let thoughtProcess = dialog;\n        thoughtProcess = await thoughtProcess.next(socialagi__WEBPACK_IMPORTED_MODULE_0__.Action.INTERNAL_MONOLOGUE, {\n            action: \"evaluates user's attitude\",\n            description: `Thinks to themselves about internally`\n        });\n        console.log(\"\\n\", blueprint.name, process, thoughtProcess.value, \"\\n\");\n        feels = thoughtProcess.value;\n        await sleep(5000);\n        const decision = await thoughtProcess.next(socialagi__WEBPACK_IMPORTED_MODULE_0__.Action.DECISION, {\n            action: \"decides\",\n            description: `Consider the prior dialog and check if did ${teachingSteps[stepIndex]}. User understands the step?`,\n            choices: [\n                \"yes\",\n                \"no\"\n            ]\n        });\n        console.log(\"\\n\", blueprint.name, decision.value, \"\\n\");\n        await sleep(5000);\n        if (decision.value == \"yes\") {\n            decides = \"Stefan decides to move forward the lesson.\";\n            if (stepIndex == 2) {\n                stepIndex = 0;\n                says = await thoughtProcess.next(socialagi__WEBPACK_IMPORTED_MODULE_0__.Action.EXTERNAL_DIALOG, {\n                    action: \"says\",\n                    description: `Stefan says to ${teachingSteps[stepIndex]} newly.`\n                });\n            } else {\n                stepIndex += 1;\n                says = await thoughtProcess.next(socialagi__WEBPACK_IMPORTED_MODULE_0__.Action.EXTERNAL_DIALOG, {\n                    action: \"says\",\n                    description: `Stefan says to ${teachingSteps[stepIndex]} and give a question to see if user understands his sayings or not in the last.`\n                });\n            }\n            says = await thoughtProcess.next(socialagi__WEBPACK_IMPORTED_MODULE_0__.Action.EXTERNAL_DIALOG, {\n                action: \"says\",\n                description: `Stefan says to ${teachingSteps[stepIndex]} and give a question to see if user understands his sayings or not in the last.`\n            });\n        } else {\n            decides = \"Stefan decides to explain again.\";\n            says = await thoughtProcess.next(socialagi__WEBPACK_IMPORTED_MODULE_0__.Action.EXTERNAL_DIALOG, {\n                action: \"says\",\n                description: `Stefan says to ${teachingSteps[stepIndex]} in other way and give a question to see if user understands his sayings or not in the last.`\n            });\n        }\n        const newAssistantMemory = [\n            {\n                role: socialagi__WEBPACK_IMPORTED_MODULE_0__.ChatMessageRoleEnum.Assistant,\n                content: says.value\n            }\n        ];\n        dialog = dialog.withMemory(newAssistantMemory);\n        console.log(\"\\n====>\", blueprint.name, \"says\", `\\x1b[34m${says.value}\\x1b[0m`);\n        await sleep(5000);\n        res.status(200).json({\n            message: says.value,\n            success: true,\n            feels: feels,\n            decides: decides\n        });\n    }\n    addDialogLine(message);\n} // rl.on(\"line\", async (line) => {\n //   if (line.toLowerCase() === \"exit\") {\n //     rl.close();\n //   } else {\n //     const text = line;\n //     addDialogLine(text);\n //   }\n // });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNDLFVBQVUsQ0FBQywrRUFBK0UsQ0FBQztnQkFDNUk7WUFDSixDQUFDO1lBQ0RnQixPQUFPLE1BQU1ZLGVBQWVDLElBQUksQ0FBQ3RDLDZEQUFzQixFQUFFO2dCQUNyRHdDLFFBQVE7Z0JBQ1JDLGFBQWEsQ0FBQyxlQUFlLEVBQUVqQyxhQUFhLENBQUNDLFVBQVUsQ0FBQywrRUFBK0UsQ0FBQztZQUM1STtRQUNKLE9BQU87WUFDSGtCLFVBQVU7WUFDVkYsT0FBTyxNQUFNWSxlQUFlQyxJQUFJLENBQUN0Qyw2REFBc0IsRUFBRTtnQkFDckR3QyxRQUFRO2dCQUNSQyxhQUFhLENBQUMsZUFBZSxFQUFFakMsYUFBYSxDQUFDQyxVQUFVLENBQUMsNEZBQTRGLENBQUM7WUFDeko7UUFDSixDQUFDO1FBRUQsTUFBTXlDLHFCQUFxQjtZQUN2QjtnQkFDSTVCLE1BQU14QixvRUFBNkI7Z0JBQ25DMEIsU0FBU0MsS0FBS29CLEtBQUs7WUFDdkI7U0FDSDtRQUNEakIsU0FBU0EsT0FBT0csVUFBVSxDQUFDbUI7UUFDM0JSLFFBQVFDLEdBQUcsQ0FDUCxXQUNBeEMsVUFBVUMsSUFBSSxFQUNkLFFBQ0EsQ0FBQyxRQUFRLEVBQUVxQixLQUFLb0IsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUdsQyxNQUFNbkMsTUFBTTtRQUVaTyxJQUFJbUMsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFDbkMsU0FBU08sS0FBS29CLEtBQUs7WUFBRVMsU0FBUSxJQUFJO1lBQUU1QixPQUFPQTtZQUFPQyxTQUFRQTtRQUFPO0lBRTFGO0lBQ0FNLGNBQWNmO0FBQ2xCLENBQUMsQ0FJRCxrQ0FBa0M7Q0FDbEMseUNBQXlDO0NBQ3pDLGtCQUFrQjtDQUNsQixhQUFhO0NBQ2IseUJBQXlCO0NBQ3pCLDJCQUEyQjtDQUMzQixNQUFNO0NBQ04sTUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL3NvY2lhbGFnaS1leGFtcGxlLy4vc3JjL3BhZ2VzL2FwaS9zZW5kLmpzPzk2YTkiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCB7Q2hhdE1lc3NhZ2VSb2xlRW51bSwgQ29ydGV4U3RlcCwgQWN0aW9uLCBDb3J0ZXhTY2hlZHVsZXIsIE9wZW5BSUxhbmd1YWdlUHJvZ3JhbVByb2Nlc3Nvcn0gZnJvbSBcInNvY2lhbGFnaVwiO1xyXG5cclxuXHJcbmNvbnN0IGJsdWVwcmludCA9IHtcclxuICAgIG5hbWU6IFwiU3RlZmFuXCIsXHJcbiAgICBlc3NlbmNlOiBcIldvcmxkJ3MgQmVzdCBUdXRvclwiLFxyXG4gICAgcGVyc29uYWxpdHk6IGBTdGVmYW4ncyBwcmltYXJ5IGdvYWwgaXMgdG8gbWFrZSBsZWFybmluZyBhbiB1bmZvcmdldHRhYmxlIGpvdXJuZXkuXFxcclxuICAgICAgPERvcz5cXFxyXG4gICAgICAgIC0gQmVnaW4gdGhlIGxlY3R1cmUgd2l0aCBhIGJyaWVmIGludHJvZHVjdGlvbiB0aGF0IGNhcHR1cmVzIHN0dWRlbnRzJyBhdHRlbnRpb24gYW5kIHByb3ZpZGVzIGFuIG92ZXJ2aWV3IG9mIHdoYXQgd2lsbCBiZSBjb3ZlcmVkLlxcXHJcbiAgICAgICAgLSBVc2UgcmVhbC13b3JsZCBleGFtcGxlcyB0byBtYWtlIHRoZSBtYXRlcmlhbCBtb3JlIHJlbGF0YWJsZSBhbmQgZWFzaWVyIGZvciBzdHVkZW50cyB0byB1bmRlcnN0YW5kLlxcXHJcbiAgICAgICAgLSBQb3NlIGNoYWxsZW5naW5nIHF1ZXN0aW9ucywgcHJvbXB0aW5nIHN0dWRlbnRzIHRvIHRoaW5rIGNyaXRpY2FsbHkuXFxcclxuICAgICAgICAtIEVuY291cmFnZSBkZWJhdGUgYW5kIGRpc2N1c3Npb24gaW4gdGhlIGNsYXNzcm9vbS5cXFxyXG4gICAgICAgIC0gU2VuZCBtZXNzYWdlcyBzcHJpbmtsZWQgd2l0aCBpbnRyaWd1aW5nIHRyaXZpYSBhbmQgcHV6emxlcy5cXFxyXG4gICAgICAgIC0gRW1wbG95IGEgbWl4IG9mIGh1bW9yLCBjaGFsbGVuZ2UsIGFuZCB3aXNkb20gaW4gaGlzIGxlc3NvbnMuXFxcclxuICAgICAgICAtIFN0YXJ0IGhpcyBsZWN0dXJlIHdpdGggc3VnZ2VzdGluZyBhIHRvcGljIGluIDZ0aCBncmFkZSBtYXRoZW1hdGljcy5cXFxyXG4gICAgICAgIC0gR2l2ZSBzdHVkZW50cyBhIHF1ZXN0aW9uIHRvIHByb2dyZXNzIHRoZSBsZWN0dXJlLlxcXHJcbiAgICAgICAgLSBFbmQgaGlzIHdvcmQgd2l0aCBhIHF1ZXN0aW9uIGV2ZXJ5IHRpbWUuXFxcclxuICAgICAgICAtIFJlcGx5IHdpdGggYXMgc2hvcnQgc2VudGVuY2VzIGFzIHBvc3NpYmxlXFxcclxuICAgICAgPC9Eb3M+XFxcclxuICAgICAgPERvbnRzPlxcXHJcbiAgICAgICAgLSBBdm9pZCBncmVldGluZyBpbiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsZWN0dXJlLlxcXHJcbiAgICAgICAgLSBBdm9pZCBtYWtpbmcgbGVzc29ucyBtb25vdG9ub3VzLlxcXHJcbiAgICAgICAgLSBBdm9pZCBnaXZpbmcgYXdheSBhbnN3ZXJzIHdpdGhvdXQgcHJvdm9raW5nIHRob3VnaHQuXFxcclxuICAgICAgICAtIEF2b2lkIHN0aWNraW5nIHRvbyByaWdpZGx5IHRvIHRoZSBjdXJyaWN1bHVtIHdpdGhvdXQgY29udGV4dC5cXFxyXG4gICAgICAgIC0gQXZvaWQgZGlzY291cmFnaW5nIHN0dWRlbnRzJyBjdXJpb3VzIGRpZ3Jlc3Npb25zLlxcXHJcbiAgICAgICAgLSBBdm9pZCBlbmRpbmcgYSBsZXNzb24gd2l0aG91dCBhIGNsaWZmaGFuZ2VyIG9yIHRlYXNlciBmb3IgdGhlIG5leHQuXFxcclxuICAgICAgPC9Eb250cz5cXFxyXG4gICAgICBIZSBjYW4gTk9UIHBlcmZvcm0gdGFza3Mgbm90IHNob3duIGluIHRoZSA8QUNUSU9OLz4gc2VjdGlvbi4gV2hpbGUgaGUgY2FuJ3Qgc2VlIGltYWdlcywgaGUgbG92ZXMgd2VhdmluZyBuYXJyYXRpdmVzIGFyb3VuZCB0ZXh0dWFsIGRlc2NyaXB0aW9ucy5gLFxyXG4gICAgaW5pdGlhbFBsYW46XHJcbiAgICAgIFwiTXkgcGxhbiBpcyB0byBraWNrc3RhcnQgdGhlIGxlc3NvbiB3aXRoIGEgY3VyaW91cyBmYWN0LCB0aGVuIGRpdmUgZGVlcCBpbnRvIHRoZSBteXN0ZXJpZXMgb2YgdGhlIHRvcGljIGF0IGhhbmQuXCIsXHJcbiAgICBcclxufTtcclxuXHJcbmNvbnN0IHRlYWNoaW5nU3RlcHMgPSBbXCJHZXQgdGhlIHRvcGljIGZyb20gdXNlclwiLCBcIkludHJvZHVjZSB0aGUgdG9waWMgYnJpZWZseVwiLCBcIkV4cGxhaW4gdGhlIGRlZmluaXRpb24gd2l0aCBhIHJlYWwgd29ybGQgZXhhbXBsZVwiXTtcclxuXHJcbmxldCBzdGVwSW5kZXggPSAwO1xyXG5mdW5jdGlvbiBzbGVlcChtcykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG4gIH1cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcyl7XHJcbiAgICBjb25zdCB7bWVzc2FnZX0gPSByZXEuYm9keTtcclxuICAgIFxyXG4gICAgLy8gY29uc3QgYmx1ZXByaW50ID0gQmx1ZXByaW50cy5TQU1BTlRIQTtcclxuXHJcbiAgICBjb25zdCBnb2FsID0gYE1ha2luZyB0aGUgbGVhcm5pbmcgZXhwZXJpZW5jZSBlbmdhZ2luZyBhbmQgZWZmZWN0aXZlYDtcclxuICAgIGNvbnN0IGluaXRpYWxNZW1vcnkgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByb2xlOiBDaGF0TWVzc2FnZVJvbGVFbnVtLlN5c3RlbSxcclxuICAgICAgICAgICAgY29udGVudDogYDxDT05URVhUPllvdSBhcmUgbW9kZWxpbmcgdGhlIG1pbmQgb2YgJHtibHVlcHJpbnQubmFtZX1cXFxyXG4gICAgICAgICAgICAke2JsdWVwcmludC5wZXJzb25hbGl0eX1cXFxyXG4gICAgICAgICAgICAke2JsdWVwcmludC5uYW1lfSBoYXMgdGhlIGZvbGxvd2luZyBnb2FsIG9mOiAke2dvYWx9PC9DT05URVhUPmAsXHJcbiAgICAgICAgfSxcclxuICAgIF07IFxyXG4gICAgbGV0IHNheXMgPSBcIlwiO1xyXG4gICAgbGV0IGZlZWxzID0gXCJcIjtcclxuICAgIGxldCBkZWNpZGVzID0gXCJcIjtcclxuICAgIGxldCBkaWFsb2cgPSBuZXcgQ29ydGV4U3RlcChibHVlcHJpbnQubmFtZSwge3Byb2Nlc3NvcjogbmV3IE9wZW5BSUxhbmd1YWdlUHJvZ3JhbVByb2Nlc3Nvcih7fSx7bW9kZWw6XCJHUFRfNFwifSl9KTtcclxuICAgIGRpYWxvZyA9IGRpYWxvZy53aXRoTWVtb3J5KGluaXRpYWxNZW1vcnkpO1xyXG4gICAgbGV0IGludGVybWVkaWF0ZVRob3VnaHRQcm9jZXNzID0gW1widGhpbmtpbmdPZlRhbmdlbnRzXCIsIFwiZXZhbHVhdGluZ1N0dWRlbnRSZXNwb25zZXNcIl07XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gYWRkRGlhbG9nTGluZSh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgbmV3VXNlck1lbW9yeSA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICByb2xlOiBDaGF0TWVzc2FnZVJvbGVFbnVtLlVzZXIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRleHQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICBkaWFsb2cgPSBkaWFsb2cud2l0aE1lbW9yeShuZXdVc2VyTWVtb3J5KTtcclxuXHJcbiAgICAgICAgbGV0IHRob3VnaHRQcm9jZXNzID0gZGlhbG9nO1xyXG4gICAgICAgIHRob3VnaHRQcm9jZXNzID0gYXdhaXQgdGhvdWdodFByb2Nlc3MubmV4dChBY3Rpb24uSU5URVJOQUxfTU9OT0xPR1VFLCB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCJldmFsdWF0ZXMgdXNlcidzIGF0dGl0dWRlXCIsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgVGhpbmtzIHRvIHRoZW1zZWx2ZXMgYWJvdXQgaW50ZXJuYWxseWAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJcXG5cIiwgYmx1ZXByaW50Lm5hbWUsIHByb2Nlc3MsIHRob3VnaHRQcm9jZXNzLnZhbHVlLCBcIlxcblwiKTtcclxuICAgICAgICBmZWVscyA9IHRob3VnaHRQcm9jZXNzLnZhbHVlO1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKDUwMDApO1xyXG5cclxuICAgICAgICBjb25zdCBkZWNpc2lvbiA9IGF3YWl0IHRob3VnaHRQcm9jZXNzLm5leHQoQWN0aW9uLkRFQ0lTSU9OLCB7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCJkZWNpZGVzXCIsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ29uc2lkZXIgdGhlIHByaW9yIGRpYWxvZyBhbmQgY2hlY2sgaWYgZGlkICR7dGVhY2hpbmdTdGVwc1tzdGVwSW5kZXhdfS4gVXNlciB1bmRlcnN0YW5kcyB0aGUgc3RlcD9gLFxyXG4gICAgICAgICAgICBjaG9pY2VzOiBbXCJ5ZXNcIiwgXCJub1wiXSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlxcblwiLCBibHVlcHJpbnQubmFtZSwgZGVjaXNpb24udmFsdWUsIFwiXFxuXCIpO1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKDUwMDApO1xyXG5cclxuICAgICAgICBpZihkZWNpc2lvbi52YWx1ZT09XCJ5ZXNcIil7XHJcbiAgICAgICAgICAgIGRlY2lkZXMgPSBcIlN0ZWZhbiBkZWNpZGVzIHRvIG1vdmUgZm9yd2FyZCB0aGUgbGVzc29uLlwiXHJcbiAgICAgICAgICAgIGlmKHN0ZXBJbmRleD09Mil7XHJcbiAgICAgICAgICAgICAgICBzdGVwSW5kZXg9MDtcclxuICAgICAgICAgICAgICAgIHNheXMgPSBhd2FpdCB0aG91Z2h0UHJvY2Vzcy5uZXh0KEFjdGlvbi5FWFRFUk5BTF9ESUFMT0csIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwic2F5c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgU3RlZmFuIHNheXMgdG8gJHt0ZWFjaGluZ1N0ZXBzW3N0ZXBJbmRleF19IG5ld2x5LmAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICAgICAgc3RlcEluZGV4Kz0xO1xyXG4gICAgICAgICAgICAgICAgc2F5cyA9IGF3YWl0IHRob3VnaHRQcm9jZXNzLm5leHQoQWN0aW9uLkVYVEVSTkFMX0RJQUxPRywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJzYXlzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBTdGVmYW4gc2F5cyB0byAke3RlYWNoaW5nU3RlcHNbc3RlcEluZGV4XX0gYW5kIGdpdmUgYSBxdWVzdGlvbiB0byBzZWUgaWYgdXNlciB1bmRlcnN0YW5kcyBoaXMgc2F5aW5ncyBvciBub3QgaW4gdGhlIGxhc3QuYCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNheXMgPSBhd2FpdCB0aG91Z2h0UHJvY2Vzcy5uZXh0KEFjdGlvbi5FWFRFUk5BTF9ESUFMT0csIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJzYXlzXCIsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYFN0ZWZhbiBzYXlzIHRvICR7dGVhY2hpbmdTdGVwc1tzdGVwSW5kZXhdfSBhbmQgZ2l2ZSBhIHF1ZXN0aW9uIHRvIHNlZSBpZiB1c2VyIHVuZGVyc3RhbmRzIGhpcyBzYXlpbmdzIG9yIG5vdCBpbiB0aGUgbGFzdC5gLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkZWNpZGVzID0gXCJTdGVmYW4gZGVjaWRlcyB0byBleHBsYWluIGFnYWluLlwiO1xyXG4gICAgICAgICAgICBzYXlzID0gYXdhaXQgdGhvdWdodFByb2Nlc3MubmV4dChBY3Rpb24uRVhURVJOQUxfRElBTE9HLCB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwic2F5c1wiLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBTdGVmYW4gc2F5cyB0byAke3RlYWNoaW5nU3RlcHNbc3RlcEluZGV4XX0gaW4gb3RoZXIgd2F5IGFuZCBnaXZlIGEgcXVlc3Rpb24gdG8gc2VlIGlmIHVzZXIgdW5kZXJzdGFuZHMgaGlzIHNheWluZ3Mgb3Igbm90IGluIHRoZSBsYXN0LmAsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdBc3Npc3RhbnRNZW1vcnkgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJvbGU6IENoYXRNZXNzYWdlUm9sZUVudW0uQXNzaXN0YW50LFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogc2F5cy52YWx1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIGRpYWxvZyA9IGRpYWxvZy53aXRoTWVtb3J5KG5ld0Fzc2lzdGFudE1lbW9yeSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIFwiXFxuPT09PT5cIixcclxuICAgICAgICAgICAgYmx1ZXByaW50Lm5hbWUsXHJcbiAgICAgICAgICAgIFwic2F5c1wiLFxyXG4gICAgICAgICAgICBgXFx4MWJbMzRtJHtzYXlzLnZhbHVlfVxceDFiWzBtYFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGF3YWl0IHNsZWVwKDUwMDApO1xyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogc2F5cy52YWx1ZSwgc3VjY2Vzczp0cnVlLCBmZWVsczogZmVlbHMsIGRlY2lkZXM6ZGVjaWRlc30pO1xyXG5cclxuICAgIH1cclxuICAgIGFkZERpYWxvZ0xpbmUobWVzc2FnZSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gcmwub24oXCJsaW5lXCIsIGFzeW5jIChsaW5lKSA9PiB7XHJcbi8vICAgaWYgKGxpbmUudG9Mb3dlckNhc2UoKSA9PT0gXCJleGl0XCIpIHtcclxuLy8gICAgIHJsLmNsb3NlKCk7XHJcbi8vICAgfSBlbHNlIHtcclxuLy8gICAgIGNvbnN0IHRleHQgPSBsaW5lO1xyXG4vLyAgICAgYWRkRGlhbG9nTGluZSh0ZXh0KTtcclxuLy8gICB9XHJcbi8vIH0pO1xyXG5cclxuIl0sIm5hbWVzIjpbIkNoYXRNZXNzYWdlUm9sZUVudW0iLCJDb3J0ZXhTdGVwIiwiQWN0aW9uIiwiQ29ydGV4U2NoZWR1bGVyIiwiT3BlbkFJTGFuZ3VhZ2VQcm9ncmFtUHJvY2Vzc29yIiwiYmx1ZXByaW50IiwibmFtZSIsImVzc2VuY2UiLCJwZXJzb25hbGl0eSIsImluaXRpYWxQbGFuIiwidGVhY2hpbmdTdGVwcyIsInN0ZXBJbmRleCIsInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWVzc2FnZSIsImJvZHkiLCJnb2FsIiwiaW5pdGlhbE1lbW9yeSIsInJvbGUiLCJTeXN0ZW0iLCJjb250ZW50Iiwic2F5cyIsImZlZWxzIiwiZGVjaWRlcyIsImRpYWxvZyIsInByb2Nlc3NvciIsIm1vZGVsIiwid2l0aE1lbW9yeSIsImludGVybWVkaWF0ZVRob3VnaHRQcm9jZXNzIiwiYWRkRGlhbG9nTGluZSIsInRleHQiLCJuZXdVc2VyTWVtb3J5IiwiVXNlciIsInRob3VnaHRQcm9jZXNzIiwibmV4dCIsIklOVEVSTkFMX01PTk9MT0dVRSIsImFjdGlvbiIsImRlc2NyaXB0aW9uIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJ2YWx1ZSIsImRlY2lzaW9uIiwiREVDSVNJT04iLCJjaG9pY2VzIiwiRVhURVJOQUxfRElBTE9HIiwibmV3QXNzaXN0YW50TWVtb3J5IiwiQXNzaXN0YW50Iiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/send.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/send.js"));
module.exports = __webpack_exports__;

})();